<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BitCloud Stack API Reference: apsCryptoKeys.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BitCloud Stack API Reference&#160;<span id="projectnumber">1.11.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">apsCryptoKeys.h File Reference</div>  </div>
</div>
<div class="contents">

<p>Access interface to cryptographic keys.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;nwk.h&gt;</code><br/>
</div>
<p><a href="aps_crypto_keys_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a581d4c2657a00e894e650aeb41806c4b">APS_KEY_HANDLE_IS_VALID</a>(handle)&#160;&#160;&#160;(0 &lt;= (handle))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a13f6a12c2990da1e8de138657abe016c">APS_KEYS_FOUND</a>(handle)&#160;&#160;&#160;APS_KEY_HANDLE_IS_VALID(handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a1b7ea22e67f104ae03d70a68bfe08011">APS_SECURED_WITH_ANY_LINK_KEY_STATUS</a>(securityStatus)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a10dfee2315fd471b723df2254b8f980b">APS_KEY_PAIR_INITIAL</a>&#160;&#160;&#160;-1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3180bbdc47c5fdda583c531c037aa79e"></a><!-- doxytag: member="apsCryptoKeys.h::APS_KEY_PAIR_FINISH" ref="a3180bbdc47c5fdda583c531c037aa79e" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>APS_KEY_PAIR_FINISH</b>&#160;&#160;&#160;-2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#ad24ce0b25a4ce8da014263b455f90453">APS_KEY_PAIR_ALLOC_FAIL</a>&#160;&#160;&#160;-3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a297ecf99afc8646345e83f5119deadba">APS_KEY_PAIR_NOT_FOUND</a>&#160;&#160;&#160;-4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a37440f0196ed135b201725f8762ff7fc">APS_KEY_PAIR_INVALID_PARAMETER</a>&#160;&#160;&#160;-5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#aa3410e3ca49277f0647fa058dea5817f">APS_KEY_PAIR_NO_INIT</a>&#160;&#160;&#160;-6</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a35708bab19852a95c8bd75ed90411c52">APS_RESET_MASTER_KEY</a>&#160;&#160;&#160;0x01</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a398eebf92d10580c4ff5d2351c17219e">APS_RESET_LINK_KEY</a>&#160;&#160;&#160;0x02</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#ade9ca80371aa20a8d27e3b40dca213c7">APS_RESET_COUNTERS</a>&#160;&#160;&#160;0x04</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ad1a8db681b7bb3947e1e34bcec5e10"></a><!-- doxytag: member="apsCryptoKeys.h::ApsOutFrameCounter_t" ref="a4ad1a8db681b7bb3947e1e34bcec5e10" args="" -->
typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>ApsOutFrameCounter_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa44c90ec5579279d7a89a5bc7d967f2e"></a><!-- doxytag: member="apsCryptoKeys.h::ApsInFrameCounter_t" ref="aa44c90ec5579279d7a89a5bc7d967f2e" args="" -->
typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>ApsInFrameCounter_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a5f81fc6b9c522838dcf58756fc77a000">APS_KeyResetFlags_t</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a4d97ec9bad11b340c8fa114db1d7a92c">APS_SetLinkKey</a> (const ExtAddr_t *const deviceAddress, const uint8_t *const linkKey)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a link key for the device with a given extended address.  <a href="#a4d97ec9bad11b340c8fa114db1d7a92c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#af6bad000710b8a34e6493005132fe288">APS_SetMasterKey</a> (const ExtAddr_t *const deviceAddress, const uint8_t *const masterKey)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a master key for the device with a given extended address.  <a href="#af6bad000710b8a34e6493005132fe288"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a3229d2abe9efd3d4e35cd4338cfaf988">APS_FindKeys</a> (const ExtAddr_t *const deviceAddress)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the master key or the link key corresponding to a given extended address.  <a href="#a3229d2abe9efd3d4e35cd4338cfaf988"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a7d48f855d7bdc744b7f3bc5e5e9d57e4">APS_GetMasterKey</a> (const <a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> handle)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the master key value by a given key handle.  <a href="#a7d48f855d7bdc744b7f3bc5e5e9d57e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#af284854b8e67a19aa3ecdab2271b0705">APS_GetLinkKey</a> (const <a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> handle)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the link key value by a given key handle.  <a href="#af284854b8e67a19aa3ecdab2271b0705"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#ae70f5ad61efae9a6f5d9b312a9a885ca">APS_DeleteKeyPair</a> (ExtAddr_t *const deviceAddress, const bool notify)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete key-pair - master and link keys.  <a href="#ae70f5ad61efae9a6f5d9b312a9a885ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a8e717dc80d8b9937b446523e0ec2a758">APS_NextKeys</a> (const <a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> handle)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get next key handle.  <a href="#a8e717dc80d8b9937b446523e0ec2a758"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#ab224a08c27f2baed2f1ecdde2ad3f6ac">APS_SetAuthorizedStatus</a> (const ExtAddr_t *const deviceAddress, const bool status)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(Un)authorize cryptographic key-pair of given device.  <a href="#ab224a08c27f2baed2f1ecdde2ad3f6ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a428c802cd2c580de2558bc436e710063">APS_AreKeysAuthorized</a> (const ExtAddr_t *const deviceAddress)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check authorization of crypthographic key-pair.  <a href="#a428c802cd2c580de2558bc436e710063"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#aa669d82a9bc4e74c4e294547ca1ea218">APS_ResetKeys</a> (const ExtAddr_t *const deviceAddress, const <a class="el" href="aps_crypto_keys_8h.html#a5f81fc6b9c522838dcf58756fc77a000">APS_KeyResetFlags_t</a> flags)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset device's keys and counters to default values.  <a href="#aa669d82a9bc4e74c4e294547ca1ea218"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a8161ef6ed2844d9e4090b57de50e3b8c">APS_InitKeyPairSet</a> (const NWK_PowerFailureControl_t powerFailureControl)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Init APS key-pair set.  <a href="#a8161ef6ed2844d9e4090b57de50e3b8c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ExtAddr_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a101d632d3ef706940988e76777a7de95">APS_GetKeyPairDeviceAddress</a> (const <a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> handle)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get extended device address of key-pair.  <a href="#a101d632d3ef706940988e76777a7de95"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aps_crypto_keys_8h.html#a2e792ff64548986f95cdfa14447954b8">APS_ChangeKeyPairDeviceAddress</a> (const ExtAddr_t oldAddress, const ExtAddr_t newAddress)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find key-pair with old address and set new address.  <a href="#a2e792ff64548986f95cdfa14447954b8"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Access interface to cryptographic keys. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Atmel Corporation: <a href="http://www.atmel.com">http://www.atmel.com</a> <br/>
 Support email: <a href="mailto:avr@atmel.com">avr@atmel.com</a></dd></dl>
<p>Copyright (c) 2008-2011, Atmel Corporation. All rights reserved. Licensed under Atmel's Limited License Agreement (BitCloudTM). </p>

<p>Definition in file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a581d4c2657a00e894e650aeb41806c4b"></a><!-- doxytag: member="apsCryptoKeys.h::APS_KEY_HANDLE_IS_VALID" ref="a581d4c2657a00e894e650aeb41806c4b" args="(handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APS_KEY_HANDLE_IS_VALID</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">handle</td><td>)</td>
          <td>&#160;&#160;&#160;(0 &lt;= (handle))</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Macro returns true if crypto key handle is valid. </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00031">31</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<a class="anchor" id="a13f6a12c2990da1e8de138657abe016c"></a><!-- doxytag: member="apsCryptoKeys.h::APS_KEYS_FOUND" ref="a13f6a12c2990da1e8de138657abe016c" args="(handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APS_KEYS_FOUND</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">handle</td><td>)</td>
          <td>&#160;&#160;&#160;APS_KEY_HANDLE_IS_VALID(handle)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Macro returns true if key-pair handle is successfully found. </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00033">33</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1b7ea22e67f104ae03d70a68bfe08011"></a><!-- doxytag: member="apsCryptoKeys.h::APS_SECURED_WITH_ANY_LINK_KEY_STATUS" ref="a1b7ea22e67f104ae03d70a68bfe08011" args="(securityStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APS_SECURED_WITH_ANY_LINK_KEY_STATUS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">securityStatus</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">((<a class="code" href="aps_common_8h.html#a1b4ff3a412400f1920d4d56e771230c8a597cd8a377c3c6065e1de5dcad84e32a">APS_SECURED_LINK_KEY_STATUS</a> == securityStatus) || \
   (<a class="code" href="aps_common_8h.html#a1b4ff3a412400f1920d4d56e771230c8ae9e0e3cbad238ca1b543cf160d4f56ec">APS_SECURED_TRUST_CENTER_LINK_KEY_STATUS</a> == securityStatus) || \
   (<a class="code" href="aps_common_8h.html#a1b4ff3a412400f1920d4d56e771230c8ac7dd5ca1e502d87e7b1b591d21a86f6f">APS_SECURED_HASH_OF_TRUST_CENTER_LINK_KEY_STATUS</a> == securityStatus))
</pre></div><p>Macro returns true if security status is related to any security with link key. </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00036">36</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<a class="anchor" id="a10dfee2315fd471b723df2254b8f980b"></a><!-- doxytag: member="apsCryptoKeys.h::APS_KEY_PAIR_INITIAL" ref="a10dfee2315fd471b723df2254b8f980b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APS_KEY_PAIR_INITIAL&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List of invalid and service key handle values. Initial and finish value of key-pair iterator. </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00044">44</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad24ce0b25a4ce8da014263b455f90453"></a><!-- doxytag: member="apsCryptoKeys.h::APS_KEY_PAIR_ALLOC_FAIL" ref="ad24ce0b25a4ce8da014263b455f90453" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APS_KEY_PAIR_ALLOC_FAIL&#160;&#160;&#160;-3</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Memory for key-pair descriptor is out. </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00047">47</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<a class="anchor" id="a297ecf99afc8646345e83f5119deadba"></a><!-- doxytag: member="apsCryptoKeys.h::APS_KEY_PAIR_NOT_FOUND" ref="a297ecf99afc8646345e83f5119deadba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APS_KEY_PAIR_NOT_FOUND&#160;&#160;&#160;-4</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Key-pair is not found by device address. </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00049">49</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<a class="anchor" id="a37440f0196ed135b201725f8762ff7fc"></a><!-- doxytag: member="apsCryptoKeys.h::APS_KEY_PAIR_INVALID_PARAMETER" ref="a37440f0196ed135b201725f8762ff7fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APS_KEY_PAIR_INVALID_PARAMETER&#160;&#160;&#160;-5</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Parameter is out of range. </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00051">51</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa3410e3ca49277f0647fa058dea5817f"></a><!-- doxytag: member="apsCryptoKeys.h::APS_KEY_PAIR_NO_INIT" ref="aa3410e3ca49277f0647fa058dea5817f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APS_KEY_PAIR_NO_INIT&#160;&#160;&#160;-6</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>APS Key-Pair Set is not initialized. </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00053">53</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<a class="anchor" id="a35708bab19852a95c8bd75ed90411c52"></a><!-- doxytag: member="apsCryptoKeys.h::APS_RESET_MASTER_KEY" ref="a35708bab19852a95c8bd75ed90411c52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APS_RESET_MASTER_KEY&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Values of reset flag. These request reset master, link keys or counters. Zero or more flags can be bitwise-or'd in argument of APS_ResetKeys. Set default master key (zero key). </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00057">57</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<a class="anchor" id="a398eebf92d10580c4ff5d2351c17219e"></a><!-- doxytag: member="apsCryptoKeys.h::APS_RESET_LINK_KEY" ref="a398eebf92d10580c4ff5d2351c17219e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APS_RESET_LINK_KEY&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set default link key (zero key). </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00058">58</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<a class="anchor" id="ade9ca80371aa20a8d27e3b40dca213c7"></a><!-- doxytag: member="apsCryptoKeys.h::APS_RESET_COUNTERS" ref="ade9ca80371aa20a8d27e3b40dca213c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APS_RESET_COUNTERS&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set 0 to incoming and outgoing counters. </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00059">59</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="aed360a581591eb64eee65ade3c5d0a62"></a><!-- doxytag: member="apsCryptoKeys.h::APS_KeyHandle_t" ref="aed360a581591eb64eee65ade3c5d0a62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int16_t <a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Type of cryptographic key handle. </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00071">71</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5f81fc6b9c522838dcf58756fc77a000"></a><!-- doxytag: member="apsCryptoKeys.h::APS_KeyResetFlags_t" ref="a5f81fc6b9c522838dcf58756fc77a000" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="aps_crypto_keys_8h.html#a5f81fc6b9c522838dcf58756fc77a000">APS_KeyResetFlags_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Bit map of reset flags. </p>

<p>Definition at line <a class="el" href="aps_crypto_keys_8h_source.html#l00074">74</a> of file <a class="el" href="aps_crypto_keys_8h_source.html">apsCryptoKeys.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4d97ec9bad11b340c8fa114db1d7a92c"></a><!-- doxytag: member="apsCryptoKeys.h::APS_SetLinkKey" ref="a4d97ec9bad11b340c8fa114db1d7a92c" args="(const ExtAddr_t *const deviceAddress, const uint8_t *const linkKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> APS_SetLinkKey </td>
          <td>(</td>
          <td class="paramtype">const ExtAddr_t *const&#160;</td>
          <td class="paramname"><em>deviceAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *const&#160;</td>
          <td class="paramname"><em>linkKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets a link key for the device with a given extended address. </p>
<p>This function inserts a new entry into the APS key-pair set containing provided link key value and extended address.</p>
<p>The function shall be called to specify for the stack the trust center link key before performing network start if the high security mode is used with <a class="el" href="cs_defaults_8h.html#a90c571c9ce64320c8418ad0ee9b71142" title="ZDO security status.">CS_ZDO_SECURITY_STATUS</a> set to 1. If the trust center link key is unavailable <a class="el" href="cs_defaults_8h.html#a90c571c9ce64320c8418ad0ee9b71142" title="ZDO security status.">CS_ZDO_SECURITY_STATUS</a> can be set to 2; in this case a master key is used to authenticate the joining device to launch link key establishment procedure with the trust center.</p>
<p>For communication with a node different from the trust center a separate link key is also needed. If it is known to the application it shall be set with the use of this function. Otherwise, the application shall either apply a master key to launch link key establishment procedure with the partner node or request for a link key from the trust center.</p>
<p>A typical example of using the function is given below: </p>
<div class="fragment"><pre class="fragment"><a class="code" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> apsKeyHandle; <span class="comment">//A variable to hold a key handle</span>
<span class="comment">//Set a link key variable to a 16-byte value</span>
uint8_t linkKey[SECURITY_KEY_SIZE] = {0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa};
<span class="comment">//A variable for the trust center address predefined in ::CS_APS_TRUST_CENTER_ADDRESS.</span>
ExtAddr_t trustCenterAddr;

<span class="comment">//Read the trust center address</span>
<a class="code" href="config_server_8h.html#a0ea8ddc7bc41ce1c5ba556058ee1073b" title="Gets the value of the parameter specified by an ID and writes it at the provided address in memory...">CS_ReadParameter</a>(CS_APS_TRUST_CENTER_ADDRESS_ID, &amp;trustCenterAddr);
<span class="comment">//Set the trust center link key</span>
apsKeyHandle = <a class="code" href="aps_crypto_keys_8h.html#a4d97ec9bad11b340c8fa114db1d7a92c" title="Sets a link key for the device with a given extended address.">APS_SetLinkKey</a>(&amp;trustCenterAddr, linkKey);

<span class="comment">//Check for errors</span>
<span class="keywordflow">if</span> (<a class="code" href="aps_crypto_keys_8h.html#a581d4c2657a00e894e650aeb41806c4b">APS_KEY_HANDLE_IS_VALID</a>(apsKeyHandle))
{
  ...
}
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceAddress</td><td><a class="el" href="_endian.html">[LE]</a> - pointer to extended (IEEE) device address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">linkKey</td><td>- pointer to a new link key</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A valid key handle if operation is successfully completed otherwise invalid key handle (Use APS_KEY_HANDLE_IS_VALID to check it out). </dd></dl>

</div>
</div>
<a class="anchor" id="af6bad000710b8a34e6493005132fe288"></a><!-- doxytag: member="apsCryptoKeys.h::APS_SetMasterKey" ref="af6bad000710b8a34e6493005132fe288" args="(const ExtAddr_t *const deviceAddress, const uint8_t *const masterKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> APS_SetMasterKey </td>
          <td>(</td>
          <td class="paramtype">const ExtAddr_t *const&#160;</td>
          <td class="paramname"><em>deviceAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *const&#160;</td>
          <td class="paramname"><em>masterKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets a master key for the device with a given extended address. </p>
<p>This function inserts a new entry into the APS key-pair set containing provided master key value and extended address. Thus it specifies a master key used to launch link key establishment with the remote device with the corresponding extended address.</p>
<p>The function is used when the high security mode is applied to secure network operation. If <a class="el" href="cs_defaults_8h.html#a90c571c9ce64320c8418ad0ee9b71142" title="ZDO security status.">CS_ZDO_SECURITY_STATUS</a> is set to 2, then before joining the network the device shall specify a master key value corresponding to the trust center using this function. The master key in pair with the joining device's extended address must be set on the trust center via this function as well.</p>
<p>The function can also be used to specify application master keys corresponding to devices different from the trust center. The need for this occurs when a link key for a remote device is unknown. The device shall set a master key value for a remote device with which it wishes to communicate before sending any data requests to it. In this case the stack launches link key establishment procedure emplying the specified master key.</p>
<p>See the example of usage below: </p>
<div class="fragment"><pre class="fragment"><a class="code" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> apsKeyHandle; <span class="comment">//A variable to hold a key handle</span>
<span class="comment">//Set a master key variable to a 16-byte value</span>
uint8_t masterKey[16] = {0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa};
<span class="comment">//Assume the remote node extended address is held by APP_EXT_ADDR constant</span>
ExtAddr_t partnerExtAddr = APP_EXT_ADDR;

apsKeyHandle = <a class="code" href="aps_crypto_keys_8h.html#af6bad000710b8a34e6493005132fe288" title="Sets a master key for the device with a given extended address.">APS_SetMasterKey</a>(&amp;partnerExtAddr, masterKey); <span class="comment">//Set the master key</span>

<span class="comment">//Check for errors</span>
<span class="keywordflow">if</span> (<a class="code" href="aps_crypto_keys_8h.html#a581d4c2657a00e894e650aeb41806c4b">APS_KEY_HANDLE_IS_VALID</a>(apsKeyHandle))
{
  ...
}
</pre></div><p> Note that the APP_EXT_ADDR constant shall contain a 64-bit value in the little endian format. For this purpose in the definition of the constant convert a common value to the little endian format using the CCPU_TO_LE64 format as follows: </p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#define APP_EXT_ADDR     CCPU_TO_LE64(0xAAAAAAAAAAAAAAAALL)</span>
</pre></div><p>An extended address corresponding to a given short address can be obtained through Device Discovery, while short addresses of devices supporting certain services can be discovered using Service Discovery.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceAddress</td><td><a class="el" href="_endian.html">[LE]</a> - pointer to extended IEEE device address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">masterKey</td><td>- pointer to new cryptographic master key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Valid key handle if operation is successfully completed otherwise invalid key handle (Use APS_KEY_HANDLE_IS_VALID to check it out). </dd></dl>

</div>
</div>
<a class="anchor" id="a3229d2abe9efd3d4e35cd4338cfaf988"></a><!-- doxytag: member="apsCryptoKeys.h::APS_FindKeys" ref="a3229d2abe9efd3d4e35cd4338cfaf988" args="(const ExtAddr_t *const deviceAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> APS_FindKeys </td>
          <td>(</td>
          <td class="paramtype">const ExtAddr_t *const&#160;</td>
          <td class="paramname"><em>deviceAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find the master key or the link key corresponding to a given extended address. </p>
<p>The function is used to check whether the link key or the master key has been set for a given device identified by its extended address and to retrieve a handle to it if one exists. To check whether the key has been found use the APS_KEYS_FOUND macro. If the handle is valid an access to a key value is got via <a class="el" href="aps_crypto_keys_8h.html#a7d48f855d7bdc744b7f3bc5e5e9d57e4" title="Get a pointer to the master key value by a given key handle.">APS_GetMasterKey()</a> or <a class="el" href="aps_crypto_keys_8h.html#af284854b8e67a19aa3ecdab2271b0705" title="Get a pointer to the link key value by a given key handle.">APS_GetLinkKey()</a>.</p>
<p>See the example: </p>
<div class="fragment"><pre class="fragment"><span class="comment">//Assume that the extended address of interest is held by APP_EXT_ADDR constant</span>
ExtAddr_t partnerExtAddr = APP_EXT_ADDR;

<span class="keywordflow">if</span> (!<a class="code" href="aps_crypto_keys_8h.html#a13f6a12c2990da1e8de138657abe016c">APS_KEYS_FOUND</a>(<a class="code" href="aps_crypto_keys_8h.html#a3229d2abe9efd3d4e35cd4338cfaf988" title="Find the master key or the link key corresponding to a given extended address.">APS_FindKeys</a>(&amp;partnerExtAddr)))
{
  ... <span class="comment">//Perform required action, e.g. request for a link key, using APS_RequestKeyReq()</span>
}
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceAddress</td><td><a class="el" href="_endian.html">[LE]</a> - pointer to extended IEEE device address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Valid key handle if any key is found otherwise invalid key handle (Use APS_KEYS_FOUND to check it out). </dd></dl>

</div>
</div>
<a class="anchor" id="a7d48f855d7bdc744b7f3bc5e5e9d57e4"></a><!-- doxytag: member="apsCryptoKeys.h::APS_GetMasterKey" ref="a7d48f855d7bdc744b7f3bc5e5e9d57e4" args="(const APS_KeyHandle_t handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* APS_GetMasterKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a pointer to the master key value by a given key handle. </p>
<p>The function returns a pointer to the section of memory containing the master key value for a given key handle. A key handle points to a certain entry in the APS key-pair set corresponding to a specific extended address. To obtain a key handle for a given extended address use the <a class="el" href="aps_crypto_keys_8h.html#a3229d2abe9efd3d4e35cd4338cfaf988" title="Find the master key or the link key corresponding to a given extended address.">APS_FindKeys()</a> function.</p>
<p>Note that the received pointer must be only used to read the value and not to modify it.</p>
<p>Consider the example: </p>
<div class="fragment"><pre class="fragment"><span class="comment">//Search for keys associated with the provided extended address</span>
<span class="keyword">const</span> <a class="code" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> keyHandle = <a class="code" href="aps_crypto_keys_8h.html#a3229d2abe9efd3d4e35cd4338cfaf988" title="Find the master key or the link key corresponding to a given extended address.">APS_FindKeys</a>(&amp;extAddr);

uint8_t *masterKey;

<span class="keywordflow">if</span> (<a class="code" href="aps_crypto_keys_8h.html#a13f6a12c2990da1e8de138657abe016c">APS_KEYS_FOUND</a>(keyHandle) &amp;&amp; NULL != (masterKey = <a class="code" href="aps_crypto_keys_8h.html#a7d48f855d7bdc744b7f3bc5e5e9d57e4" title="Get a pointer to the master key value by a given key handle.">APS_GetMasterKey</a>(keyHandle)))
{
  ... <span class="comment">//A pointer to the master key value has been successfully captured</span>
}
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- valid key handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the master key or NULL if the key handle is invalid </dd></dl>

</div>
</div>
<a class="anchor" id="af284854b8e67a19aa3ecdab2271b0705"></a><!-- doxytag: member="apsCryptoKeys.h::APS_GetLinkKey" ref="af284854b8e67a19aa3ecdab2271b0705" args="(const APS_KeyHandle_t handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* APS_GetLinkKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a pointer to the link key value by a given key handle. </p>
<p>The function returns a pointer to the section of memory containing the link key value for a given key handle. A key handle points to a certain entry in the APS key-pair set corresponding to a specific extended address. To obtain a key handle for a given extended address use the <a class="el" href="aps_crypto_keys_8h.html#a3229d2abe9efd3d4e35cd4338cfaf988" title="Find the master key or the link key corresponding to a given extended address.">APS_FindKeys()</a> function.</p>
<p>Note that the received pointer must be only used to read the value and not to modify it.</p>
<p>Consider the example: </p>
<div class="fragment"><pre class="fragment"><span class="comment">//Search for keys associated with the provided extended address</span>
<span class="keyword">const</span> <a class="code" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> keyHandle = <a class="code" href="aps_crypto_keys_8h.html#a3229d2abe9efd3d4e35cd4338cfaf988" title="Find the master key or the link key corresponding to a given extended address.">APS_FindKeys</a>(&amp;extAddr);

uint8_t *linkKey;

<span class="keywordflow">if</span> (<a class="code" href="aps_crypto_keys_8h.html#a13f6a12c2990da1e8de138657abe016c">APS_KEYS_FOUND</a>(keyHandle) &amp;&amp; (linkKey = <a class="code" href="aps_crypto_keys_8h.html#af284854b8e67a19aa3ecdab2271b0705" title="Get a pointer to the link key value by a given key handle.">APS_GetLinkKey</a>(keyHandle)))
{
  ... <span class="comment">//A pointer to the link key value has been successfully captured</span>
}
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- valid key handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the link key or NULL if the key handle is invalid </dd></dl>

</div>
</div>
<a class="anchor" id="ae70f5ad61efae9a6f5d9b312a9a885ca"></a><!-- doxytag: member="apsCryptoKeys.h::APS_DeleteKeyPair" ref="ae70f5ad61efae9a6f5d9b312a9a885ca" args="(ExtAddr_t *const deviceAddress, const bool notify)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool APS_DeleteKeyPair </td>
          <td>(</td>
          <td class="paramtype">ExtAddr_t *const&#160;</td>
          <td class="paramname"><em>deviceAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>notify</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete key-pair - master and link keys. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceAddress</td><td><a class="el" href="_endian.html">[LE]</a> - pointer to extended IEEE device address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">notify</td><td>- notify to upper layer or not.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>'true' if the key-pair is removed otherwise false. </dd></dl>

</div>
</div>
<a class="anchor" id="a8e717dc80d8b9937b446523e0ec2a758"></a><!-- doxytag: member="apsCryptoKeys.h::APS_NextKeys" ref="a8e717dc80d8b9937b446523e0ec2a758" args="(const APS_KeyHandle_t handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> APS_NextKeys </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get next key handle. </p>
<div class="fragment"><pre class="fragment"> Example:
    <a class="code" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> handle = <a class="code" href="aps_crypto_keys_8h.html#a10dfee2315fd471b723df2254b8f980b">APS_KEY_PAIR_INITIAL</a>;

    <span class="keywordflow">while</span> (<a class="code" href="aps_crypto_keys_8h.html#a13f6a12c2990da1e8de138657abe016c">APS_KEYS_FOUND</a>(handle = <a class="code" href="aps_crypto_keys_8h.html#a8e717dc80d8b9937b446523e0ec2a758" title="Get next key handle.">APS_NextKeys</a>(handle)))
    {
      linkKey = <a class="code" href="aps_crypto_keys_8h.html#af284854b8e67a19aa3ecdab2271b0705" title="Get a pointer to the link key value by a given key handle.">APS_GetLinkKey</a>(handle);
      <span class="keywordflow">if</span> (NULL != linkKey)
        ...
      ...
    }
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- handle of previous key-pair or APS_KEY_PAIR_INITIAL if it's initial call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>if next key-pair is found then return valid key handle otherwise return APS_KEY_PAIR_FINISH. </dd></dl>

</div>
</div>
<a class="anchor" id="ab224a08c27f2baed2f1ecdde2ad3f6ac"></a><!-- doxytag: member="apsCryptoKeys.h::APS_SetAuthorizedStatus" ref="ab224a08c27f2baed2f1ecdde2ad3f6ac" args="(const ExtAddr_t *const deviceAddress, const bool status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void APS_SetAuthorizedStatus </td>
          <td>(</td>
          <td class="paramtype">const ExtAddr_t *const&#160;</td>
          <td class="paramname"><em>deviceAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(Un)authorize cryptographic key-pair of given device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceAddress</td><td><a class="el" href="_endian.html">[LE]</a> - pointer to extended IEEE device address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>- 'true' for authorized keys otherwise 'false'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a428c802cd2c580de2558bc436e710063"></a><!-- doxytag: member="apsCryptoKeys.h::APS_AreKeysAuthorized" ref="a428c802cd2c580de2558bc436e710063" args="(const ExtAddr_t *const deviceAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool APS_AreKeysAuthorized </td>
          <td>(</td>
          <td class="paramtype">const ExtAddr_t *const&#160;</td>
          <td class="paramname"><em>deviceAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check authorization of crypthographic key-pair. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceAddress</td><td><a class="el" href="_endian.html">[LE]</a> - pointer to extended IEEE device address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>'true' if key-pair is authorized otherwise 'false'. </dd></dl>

</div>
</div>
<a class="anchor" id="aa669d82a9bc4e74c4e294547ca1ea218"></a><!-- doxytag: member="apsCryptoKeys.h::APS_ResetKeys" ref="aa669d82a9bc4e74c4e294547ca1ea218" args="(const ExtAddr_t *const deviceAddress, const APS_KeyResetFlags_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a> APS_ResetKeys </td>
          <td>(</td>
          <td class="paramtype">const ExtAddr_t *const&#160;</td>
          <td class="paramname"><em>deviceAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="aps_crypto_keys_8h.html#a5f81fc6b9c522838dcf58756fc77a000">APS_KeyResetFlags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset device's keys and counters to default values. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceAddress</td><td><a class="el" href="_endian.html">[LE]</a> - pointer to extended IEEE device address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- bit map of APS Key-Pair reset flags. Current implementation supported only APS_RESET_LINK_KEY and APS_RESET_COUNTERS.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>APS Key Handle of reseting key-pair or invalid key handle if key-pair is not found. </dd></dl>

</div>
</div>
<a class="anchor" id="a8161ef6ed2844d9e4090b57de50e3b8c"></a><!-- doxytag: member="apsCryptoKeys.h::APS_InitKeyPairSet" ref="a8161ef6ed2844d9e4090b57de50e3b8c" args="(const NWK_PowerFailureControl_t powerFailureControl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void APS_InitKeyPairSet </td>
          <td>(</td>
          <td class="paramtype">const NWK_PowerFailureControl_t&#160;</td>
          <td class="paramname"><em>powerFailureControl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Init APS key-pair set. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">powerFailureControl</td><td>- stack restoring after power failure control bitfield; affects on initialization procedure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a101d632d3ef706940988e76777a7de95"></a><!-- doxytag: member="apsCryptoKeys.h::APS_GetKeyPairDeviceAddress" ref="a101d632d3ef706940988e76777a7de95" args="(const APS_KeyHandle_t handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ExtAddr_t* APS_GetKeyPairDeviceAddress </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="aps_crypto_keys_8h.html#aed360a581591eb64eee65ade3c5d0a62">APS_KeyHandle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get extended device address of key-pair. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- valid key handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to device address or NULL if key-pair is not found.. </dd></dl>

</div>
</div>
<a class="anchor" id="a2e792ff64548986f95cdfa14447954b8"></a><!-- doxytag: member="apsCryptoKeys.h::APS_ChangeKeyPairDeviceAddress" ref="a2e792ff64548986f95cdfa14447954b8" args="(const ExtAddr_t oldAddress, const ExtAddr_t newAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void APS_ChangeKeyPairDeviceAddress </td>
          <td>(</td>
          <td class="paramtype">const ExtAddr_t&#160;</td>
          <td class="paramname"><em>oldAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ExtAddr_t&#160;</td>
          <td class="paramname"><em>newAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find key-pair with old address and set new address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oldAddress</td><td><a class="el" href="_endian.html">[LE]</a> - extended IEEE device address of key-pair. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newAddress</td><td><a class="el" href="_endian.html">[LE]</a> - new device address of key-pair. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None. </dd></dl>

</div>
</div>
</div>
<img src="footer.png" style="margin-top:20px"/>
</body>
</html>
