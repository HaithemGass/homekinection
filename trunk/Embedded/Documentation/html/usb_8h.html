<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BitCloud Stack API Reference: usb.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BitCloud Stack API Reference&#160;<span id="projectnumber">1.11.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">usb.h File Reference</div>  </div>
</div>
<div class="contents">

<p>The header file describes the usb interface.  
<a href="#details">More...</a></p>

<p><a href="usb_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_a_c_k.html">PACK</a></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c52c65c9663e3438893e53690daaec1"></a><!-- doxytag: member="usb.h::TransferCallback_t" ref="a4c52c65c9663e3438893e53690daaec1" args=")(void *pArg, uint8_t status, uint16_t transferred, uint16_t remaining)" -->
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>TransferCallback_t</b> )(void *pArg, uint8_t status, uint16_t transferred, uint16_t remaining)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a4b24c587bf41d470601e97d3b895a7"></a><!-- doxytag: member="usb.h::HAL_UsbEndPointDescptr_t" ref="a5a4b24c587bf41d470601e97d3b895a7" args="" -->
typedef BEGIN_PACK struct <a class="el" href="struct_p_a_c_k.html">PACK</a>&#160;</td><td class="memItemRight" valign="bottom"><b>HAL_UsbEndPointDescptr_t</b></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">END_PACK void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a37037cc5b9543bf0095123b12c2bc13c">HAL_RegisterRequestHandler</a> (void(*f)(uint8_t *req))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers user's request handler.  <a href="#a37037cc5b9543bf0095123b12c2bc13c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a0f356bbbf9d3c04128adc9540314dea4">HAL_RegisterEndOfBusResetHandler</a> (void(*f)(void))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers user's end of bus reset handler.  <a href="#a0f356bbbf9d3c04128adc9540314dea4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a8b32a9a044ecd12c33d3082a03ba2ecd">HAL_RegisterResumeHandler</a> (void(*f)(void))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers user's resume handler.  <a href="#a8b32a9a044ecd12c33d3082a03ba2ecd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a8245f21df60a3343890268e562c7509e">HAL_RegisterSuspendHandler</a> (void(*f)(void))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers user's suspend handler.  <a href="#a8245f21df60a3343890268e562c7509e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a4de7d73d65d5392a8a3d0f243b7e4936">HAL_ConfigureEndpoint</a> (HAL_UsbEndPointDescptr_t *descriptor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures an endpoint according to its Endpoint Descriptor.  <a href="#a4de7d73d65d5392a8a3d0f243b7e4936"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a73d5abd8bfe1c245665e5527fed6b202">HAL_UsbWrite</a> (uint8_t eptnum, void *data, uint32_t size, TransferCallback_t callback, void *argument)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data through a USB endpoint. Sets up the transfer descriptor, writes one or two data payloads (depending on the number of FIFO bank for the endpoint) and then starts the actual transfer. The operation is complete when all the data has been sent.  <a href="#a73d5abd8bfe1c245665e5527fed6b202"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#aacb2a321fd86e2b28b97841e4da24744">HAL_UsbRead</a> (uint8_t eptnum, void *data, uint32_t size, TransferCallback_t callback, void *argument)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads incoming data on an USB endpoint This methods sets the transfer descriptor and activate the endpoint interrupt. The actual transfer is then carried out by the endpoint interrupt handler. The Read operation finishes either when the buffer is full, or a short packet (inferior to endpoint maximum size) is received.  <a href="#aacb2a321fd86e2b28b97841e4da24744"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a1315762e61fde359d2b30396dc5660e3">HAL_Halt</a> (uint8_t eptnum)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the HALT feature on the given endpoint (if not already in this state).  <a href="#a1315762e61fde359d2b30396dc5660e3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a4f2bf9d2d239386ba4440ab7259708f9">HAL_Unhalt</a> (uint8_t eptnum)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the Halt feature on the given endpoint.  <a href="#a4f2bf9d2d239386ba4440ab7259708f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#aad3e5e98fc4efd8476ffb33b648a0448">HAL_IsHalted</a> (uint8_t eptnum)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current Halt status of an endpoint.  <a href="#aad3e5e98fc4efd8476ffb33b648a0448"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a124e055b42c73532b81c9b4057b1c9c4">HAL_Stall</a> (uint8_t eptnum)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Causes the given endpoint to acknowledge the next packet it receives with a STALL handshake.  <a href="#a124e055b42c73532b81c9b4057b1c9c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a1a4e29e4db91b67f5fa9a6e3a7e78c05">HAL_SetAddress</a> (uint8_t *address)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the device address to the given value.  <a href="#a1a4e29e4db91b67f5fa9a6e3a7e78c05"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#abe07fd8f32b2938677230654e44ea2dd">HAL_SetConfiguration</a> (uint8_t cfgnum)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current device configuration.  <a href="#abe07fd8f32b2938677230654e44ea2dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#ac5abd61f8db2a77c2ce28690580b5cfc">HAL_UsbInit</a> (uint8_t *reqMem)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the USB driver. This function must be called before host bus reset and after pull up is connected to D+. After pull up was connected to D+ host resets device with 100ms delay.  <a href="#ac5abd61f8db2a77c2ce28690580b5cfc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a7d83c72e39bb95587b6ac1d4bd58ebe4">HAL_GetState</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current state of the USB device.  <a href="#a7d83c72e39bb95587b6ac1d4bd58ebe4"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The header file describes the usb interface. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Atmel Corporation: <a href="http://www.atmel.com">http://www.atmel.com</a> <br/>
 Support email: <a href="mailto:avr@atmel.com">avr@atmel.com</a></dd></dl>
<p>Copyright (c) 2008-2011, Atmel Corporation. All rights reserved. Licensed under Atmel's Limited License Agreement (BitCloudTM). </p>

<p>Definition in file <a class="el" href="usb_8h_source.html">usb.h</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a37037cc5b9543bf0095123b12c2bc13c"></a><!-- doxytag: member="usb.h::HAL_RegisterRequestHandler" ref="a37037cc5b9543bf0095123b12c2bc13c" args="(void(*f)(uint8_t *req))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">END_PACK void HAL_RegisterRequestHandler </td>
          <td>(</td>
          <td class="paramtype">void(*)(uint8_t *req)&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Registers user's request handler. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>- pointer to user's callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0f356bbbf9d3c04128adc9540314dea4"></a><!-- doxytag: member="usb.h::HAL_RegisterEndOfBusResetHandler" ref="a0f356bbbf9d3c04128adc9540314dea4" args="(void(*f)(void))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_RegisterEndOfBusResetHandler </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Registers user's end of bus reset handler. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>- pointer to user's callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8b32a9a044ecd12c33d3082a03ba2ecd"></a><!-- doxytag: member="usb.h::HAL_RegisterResumeHandler" ref="a8b32a9a044ecd12c33d3082a03ba2ecd" args="(void(*f)(void))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_RegisterResumeHandler </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Registers user's resume handler. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>- pointer to user's callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8245f21df60a3343890268e562c7509e"></a><!-- doxytag: member="usb.h::HAL_RegisterSuspendHandler" ref="a8245f21df60a3343890268e562c7509e" args="(void(*f)(void))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_RegisterSuspendHandler </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Registers user's suspend handler. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>- pointer to user's callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4de7d73d65d5392a8a3d0f243b7e4936"></a><!-- doxytag: member="usb.h::HAL_ConfigureEndpoint" ref="a4de7d73d65d5392a8a3d0f243b7e4936" args="(HAL_UsbEndPointDescptr_t *descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_ConfigureEndpoint </td>
          <td>(</td>
          <td class="paramtype">HAL_UsbEndPointDescptr_t *&#160;</td>
          <td class="paramname"><em>descriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configures an endpoint according to its Endpoint Descriptor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor</td><td>- Pointer to an Endpoint descriptor. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a73d5abd8bfe1c245665e5527fed6b202"></a><!-- doxytag: member="usb.h::HAL_UsbWrite" ref="a73d5abd8bfe1c245665e5527fed6b202" args="(uint8_t eptnum, void *data, uint32_t size, TransferCallback_t callback, void *argument)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_UsbWrite </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>eptnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TransferCallback_t&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argument</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends data through a USB endpoint. Sets up the transfer descriptor, writes one or two data payloads (depending on the number of FIFO bank for the endpoint) and then starts the actual transfer. The operation is complete when all the data has been sent. </p>
<p>If the size of the buffer is greater than the size of the endpoint (or twice the size if the endpoint has two FIFO banks), then the buffer must be kept allocated until the transfer is finished*. This means that it is not possible to declare it on the stack (i.e. as a local variable of a function which returns after starting a transfer).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eptnum</td><td>- Endpoint number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>- Pointer to a buffer with the data to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>- Size of the data buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>- Optional callback function to invoke when the transfer is complete. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argument</td><td>- Optional argument to the callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>STATUS_SUCCESS if the transfer has been started; otherwise, the corresponding error status code. </dd></dl>

</div>
</div>
<a class="anchor" id="aacb2a321fd86e2b28b97841e4da24744"></a><!-- doxytag: member="usb.h::HAL_UsbRead" ref="aacb2a321fd86e2b28b97841e4da24744" args="(uint8_t eptnum, void *data, uint32_t size, TransferCallback_t callback, void *argument)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_UsbRead </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>eptnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TransferCallback_t&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argument</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads incoming data on an USB endpoint This methods sets the transfer descriptor and activate the endpoint interrupt. The actual transfer is then carried out by the endpoint interrupt handler. The Read operation finishes either when the buffer is full, or a short packet (inferior to endpoint maximum size) is received. </p>
<p>The buffer must be kept allocated until the transfer is finished*.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eptnum</td><td>- Endpoint number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>- Pointer to a data buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>- Size of the data buffer in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>- Optional end-of-transfer callback function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argument</td><td>- Optional argument to the callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>STATUS_SUCCESS if the read operation has been started; otherwise, the corresponding error code. </dd></dl>

</div>
</div>
<a class="anchor" id="a1315762e61fde359d2b30396dc5660e3"></a><!-- doxytag: member="usb.h::HAL_Halt" ref="a1315762e61fde359d2b30396dc5660e3" args="(uint8_t eptnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_Halt </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>eptnum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the HALT feature on the given endpoint (if not already in this state). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eptnum</td><td>- Endpoint number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4f2bf9d2d239386ba4440ab7259708f9"></a><!-- doxytag: member="usb.h::HAL_Unhalt" ref="a4f2bf9d2d239386ba4440ab7259708f9" args="(uint8_t eptnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_Unhalt </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>eptnum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clears the Halt feature on the given endpoint. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eptnum</td><td>- Endpoint number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aad3e5e98fc4efd8476ffb33b648a0448"></a><!-- doxytag: member="usb.h::HAL_IsHalted" ref="aad3e5e98fc4efd8476ffb33b648a0448" args="(uint8_t eptnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_IsHalted </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>eptnum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current Halt status of an endpoint. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eptnum</td><td>- Endpoint number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 - if the endpoint is currently halted; 0 - otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a124e055b42c73532b81c9b4057b1c9c4"></a><!-- doxytag: member="usb.h::HAL_Stall" ref="a124e055b42c73532b81c9b4057b1c9c4" args="(uint8_t eptnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_Stall </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>eptnum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Causes the given endpoint to acknowledge the next packet it receives with a STALL handshake. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eptnum</td><td>- Endpoint number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>STATUS_SUCCESS or STATUS_BUSY. </dd></dl>

</div>
</div>
<a class="anchor" id="a1a4e29e4db91b67f5fa9a6e3a7e78c05"></a><!-- doxytag: member="usb.h::HAL_SetAddress" ref="a1a4e29e4db91b67f5fa9a6e3a7e78c05" args="(uint8_t *address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_SetAddress </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the device address to the given value. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>- New device address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe07fd8f32b2938677230654e44ea2dd"></a><!-- doxytag: member="usb.h::HAL_SetConfiguration" ref="abe07fd8f32b2938677230654e44ea2dd" args="(uint8_t cfgnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_SetConfiguration </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cfgnum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the current device configuration. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cfgnum</td><td>- Configuration number to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac5abd61f8db2a77c2ce28690580b5cfc"></a><!-- doxytag: member="usb.h::HAL_UsbInit" ref="ac5abd61f8db2a77c2ce28690580b5cfc" args="(uint8_t *reqMem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_UsbInit </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>reqMem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the USB driver. This function must be called before host bus reset and after pull up is connected to D+. After pull up was connected to D+ host resets device with 100ms delay. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reqMem</td><td>- Memory for usb request. Memory is allocated by user. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7d83c72e39bb95587b6ac1d4bd58ebe4"></a><!-- doxytag: member="usb.h::HAL_GetState" ref="a7d83c72e39bb95587b6ac1d4bd58ebe4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_GetState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current state of the USB device. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Device current state. </dd></dl>

</div>
</div>
</div>
<img src="footer.png" style="margin-top:20px"/>
</body>
</html>
