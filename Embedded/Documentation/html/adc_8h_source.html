<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BitCloud Stack API Reference: adc.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BitCloud Stack API Reference&#160;<span id="projectnumber">1.11.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">adc.h</div>  </div>
</div>
<div class="contents">
<a href="adc_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/**************************************************************************/</span>
<a name="l00017"></a>00017 <span class="comment">/******************************************************************************</span>
<a name="l00018"></a>00018 <span class="comment"> *   WARNING: CHANGING THIS FILE MAY AFFECT CORE FUNCTIONALITY OF THE STACK.  *</span>
<a name="l00019"></a>00019 <span class="comment"> *   EXPERT USERS SHOULD PROCEED WITH CAUTION.                                *</span>
<a name="l00020"></a>00020 <span class="comment"> ******************************************************************************/</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef _ADC_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define _ADC_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="comment">// \cond</span>
<a name="l00026"></a>00026 <span class="comment">/******************************************************************************</span>
<a name="l00027"></a>00027 <span class="comment">                   Includes section</span>
<a name="l00028"></a>00028 <span class="comment">******************************************************************************/</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;types.h&gt;</span>
<a name="l00030"></a>00030 <span class="comment">// \endcond</span>
<a name="l00031"></a>00031 
<a name="l00033"></a><a class="code" href="adc_8h.html#a010a0d6ffd79019556782a97f2e5ccaa">00033</a> <span class="preprocessor">#define RESOLUTION_8_BIT  0</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#define RESOLUTION_10_BIT 1</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span>
<a name="l00036"></a>00036 <span class="comment">/******************************************************************************</span>
<a name="l00037"></a>00037 <span class="comment">                   Types section</span>
<a name="l00038"></a>00038 <span class="comment">******************************************************************************/</span>
<a name="l00039"></a>00039 <span class="comment">/**************************************************************************/</span>
<a name="l00042"></a>00042 <span class="preprocessor">#if defined(AT91SAM7X256)</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>  <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00044"></a>00044   {
<a name="l00045"></a>00045     ADC_533KSPS,
<a name="l00046"></a>00046     ADC_429KSPS,
<a name="l00047"></a>00047     ADC_369KSPS,
<a name="l00048"></a>00048     ADC_250KSPS,
<a name="l00049"></a>00049     ADC_136KSPS,
<a name="l00050"></a>00050     ADC_68KSPS,
<a name="l00051"></a>00051     ADC_34KSPS
<a name="l00052"></a>00052   } <a class="code" href="adc_8h.html#a0847a7780d58aebf55e415369e5f7983" title="adc sample rate">HAL_AdcSampleRate_t</a>;
<a name="l00053"></a>00053 <span class="preprocessor">#elif defined(ATMEGA1281) || defined(ATMEGA2561) || defined(ATMEGA1284) || defined(AT90USB1287) || defined(ATMEGA128RFA1)</span>
<a name="l00054"></a><a class="code" href="adc_8h.html#a0847a7780d58aebf55e415369e5f7983">00054</a> <span class="preprocessor"></span>  <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00055"></a>00055   {
<a name="l00056"></a>00056     ADC_77KSPS,
<a name="l00057"></a>00057     ADC_39KSPS,
<a name="l00058"></a>00058     ADC_19200SPS,
<a name="l00059"></a>00059     ADC_9600SPS,
<a name="l00060"></a>00060     ADC_4800SPS
<a name="l00061"></a>00061   } <a class="code" href="adc_8h.html#a0847a7780d58aebf55e415369e5f7983" title="adc sample rate">HAL_AdcSampleRate_t</a>;
<a name="l00062"></a>00062 <span class="preprocessor">#endif</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span>
<a name="l00064"></a>00064 <span class="comment">/**************************************************************************/</span>
<a name="l00067"></a><a class="code" href="adc_8h.html#ac36f8d90bb74f96b6f0bf9b69b42d8df">00067</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00068"></a>00068 {
<a name="l00072"></a><a class="code" href="adc_8h.html#ac36f8d90bb74f96b6f0bf9b69b42d8dfa6e9ea4c6059ebc1e09b29a64afe26bd4">00072</a>   <a class="code" href="adc_8h.html#ac36f8d90bb74f96b6f0bf9b69b42d8dfa6e9ea4c6059ebc1e09b29a64afe26bd4" title="AREF, Internal Vref turned off.   If 10x or 200x gain is selected, only 2.56 V should be used as Inte...">AREF</a> = (0 &lt;&lt; 6),
<a name="l00074"></a><a class="code" href="adc_8h.html#ac36f8d90bb74f96b6f0bf9b69b42d8dfaead1f65bef727ff7542b8139baceae9c">00074</a>   <a class="code" href="adc_8h.html#ac36f8d90bb74f96b6f0bf9b69b42d8dfaead1f65bef727ff7542b8139baceae9c" title="AVCC with external capacitor at AREF pin.">AVCC</a> = (1 &lt;&lt; 6),
<a name="l00076"></a><a class="code" href="adc_8h.html#ac36f8d90bb74f96b6f0bf9b69b42d8dfa374d8198159f554a86ea7bcc72b43136">00076</a>   <a class="code" href="adc_8h.html#ac36f8d90bb74f96b6f0bf9b69b42d8dfa374d8198159f554a86ea7bcc72b43136" title="Internal 1.1V Voltage Reference with external capacitor at AREF pin.">INTERNAL_1d1V</a> = (2 &lt;&lt; 6),
<a name="l00078"></a><a class="code" href="adc_8h.html#ac36f8d90bb74f96b6f0bf9b69b42d8dfab118e83bb234ad1a136f46ca0b279053">00078</a>   <a class="code" href="adc_8h.html#ac36f8d90bb74f96b6f0bf9b69b42d8dfab118e83bb234ad1a136f46ca0b279053" title="Internal 2.56V Voltage Reference with external capacitor at AREF pin.">INTERNAL_2d56V</a> = (3 &lt;&lt; 6)
<a name="l00079"></a>00079 } <a class="code" href="adc_8h.html#ac36f8d90bb74f96b6f0bf9b69b42d8df" title="adc voltage reference">HAL_AdcVoltageReference_t</a>;
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="comment">/**************************************************************************/</span>
<a name="l00084"></a><a class="code" href="struct_h_a_l___adc_params__t.html">00084</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00085"></a>00085 {
<a name="l00087"></a><a class="code" href="struct_h_a_l___adc_params__t.html#a5f1c0f1452355076d36741198a4f5a74">00087</a>   uint8_t <a class="code" href="struct_h_a_l___adc_params__t.html#a5f1c0f1452355076d36741198a4f5a74" title="conversion resolution">resolution</a>;
<a name="l00089"></a><a class="code" href="struct_h_a_l___adc_params__t.html#a8b5b34110c7866f99a345c1142eecfe0">00089</a>   <a class="code" href="adc_8h.html#a0847a7780d58aebf55e415369e5f7983" title="adc sample rate">HAL_AdcSampleRate_t</a> <a class="code" href="struct_h_a_l___adc_params__t.html#a8b5b34110c7866f99a345c1142eecfe0" title="adc sample rate">sampleRate</a>;
<a name="l00091"></a><a class="code" href="struct_h_a_l___adc_params__t.html#a0cf06930ac41801001ba3bfe7ecbb87e">00091</a>   <a class="code" href="adc_8h.html#ac36f8d90bb74f96b6f0bf9b69b42d8df" title="adc voltage reference">HAL_AdcVoltageReference_t</a> <a class="code" href="struct_h_a_l___adc_params__t.html#a0cf06930ac41801001ba3bfe7ecbb87e" title="adc voltage reference selections (only for avr)">voltageReference</a>;
<a name="l00093"></a><a class="code" href="struct_h_a_l___adc_params__t.html#ace481ad4c02cdd8da201f8a4ff534d71">00093</a>   <span class="keywordtype">void</span> *<a class="code" href="struct_h_a_l___adc_params__t.html#ace481ad4c02cdd8da201f8a4ff534d71" title="pointer to the application data">bufferPointer</a>;
<a name="l00095"></a><a class="code" href="struct_h_a_l___adc_params__t.html#a7dbdbbcba99e1849aeee6e83ac193f7a">00095</a>   uint16_t <a class="code" href="struct_h_a_l___adc_params__t.html#a7dbdbbcba99e1849aeee6e83ac193f7a" title="amount of samples (buffer cells)">selectionsAmount</a>;
<a name="l00097"></a><a class="code" href="struct_h_a_l___adc_params__t.html#a66f8481eacf1a29db021573666d230b6">00097</a>   void (*callback)();
<a name="l00098"></a>00098 } <a class="code" href="struct_h_a_l___adc_params__t.html" title="adc structure of parameters">HAL_AdcParams_t</a>;
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 <span class="comment">/**************************************************************************/</span>
<a name="l00111"></a>00111 <span class="preprocessor">#if defined(AT91SAM7X256)</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span>  <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00113"></a>00113   {
<a name="l00114"></a>00114     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da22079c135463ce13685c4e1b2e18ce70" title="channel ADC0">HAL_ADC_CHANNEL0</a> = (1 &lt;&lt;  0),
<a name="l00115"></a>00115     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da5bcdcb03dabaf2c7aa6ec788366e8097" title="channel ADC1">HAL_ADC_CHANNEL1</a> = (1 &lt;&lt;  1),
<a name="l00116"></a>00116     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da02efa846717c8baa0f3fe210635df928" title="channel ADC2">HAL_ADC_CHANNEL2</a> = (1 &lt;&lt;  2),
<a name="l00117"></a>00117     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8dabb0e96ecf9b8cdc93db96839f71cbd89" title="channel ADC3">HAL_ADC_CHANNEL3</a> = (1 &lt;&lt;  3),
<a name="l00118"></a>00118     HAL_ADC_CHANNEL4 = (1 &lt;&lt;  4),
<a name="l00119"></a>00119     HAL_ADC_CHANNEL5 = (1 &lt;&lt;  5),
<a name="l00120"></a>00120     HAL_ADC_CHANNEL6 = (1 &lt;&lt;  6),
<a name="l00121"></a>00121     HAL_ADC_CHANNEL7 = (1 &lt;&lt;  7)
<a name="l00122"></a>00122   } <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8d" title="channel number.   Note for avr: If 10x gain is used, 8 bit resolution can be expected.   If 200x gain is used, 7 bit resolution can be expected.   If the user wants to perform a quick polarity check of the result,   it is sufficient to read the MSB of the result. If the bit is one,   the result is negative, and if this bit is zero, the result is positive.   To reach the given accuracy, 10x or 200x Gain should not be used   for operating voltage below 2.7V.">HAL_AdcChannelNumber_t</a>;
<a name="l00123"></a>00123 <span class="preprocessor">#elif defined(ATMEGA1281) || defined(ATMEGA2561) || defined(ATMEGA1284) || defined(AT90USB1287) || defined(ATMEGA128RFA1)</span>
<a name="l00124"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8d">00124</a> <span class="preprocessor"></span>  <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00125"></a>00125   {
<a name="l00127"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da22079c135463ce13685c4e1b2e18ce70">00127</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da22079c135463ce13685c4e1b2e18ce70" title="channel ADC0">HAL_ADC_CHANNEL0</a> = 0,
<a name="l00129"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da5bcdcb03dabaf2c7aa6ec788366e8097">00129</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da5bcdcb03dabaf2c7aa6ec788366e8097" title="channel ADC1">HAL_ADC_CHANNEL1</a> = 1,
<a name="l00131"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da02efa846717c8baa0f3fe210635df928">00131</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da02efa846717c8baa0f3fe210635df928" title="channel ADC2">HAL_ADC_CHANNEL2</a> = 2,
<a name="l00133"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8dabb0e96ecf9b8cdc93db96839f71cbd89">00133</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8dabb0e96ecf9b8cdc93db96839f71cbd89" title="channel ADC3">HAL_ADC_CHANNEL3</a> = 3,
<a name="l00135"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da73e62453798f9b70685e063816789e35">00135</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da73e62453798f9b70685e063816789e35" title="ADC0 - ADC0 with gain 10x.">HAL_ADC_DIFF_CHANNEL0</a> = 8,
<a name="l00137"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8dad3e448b2a5b323fb3c99fb15a175ef85">00137</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8dad3e448b2a5b323fb3c99fb15a175ef85" title="ADC1 - ADC0 with gain 10x.">HAL_ADC_DIFF_CHANNEL1</a> = 9,
<a name="l00139"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8daa822bc461cbc39bf0dee22d3dc04861b">00139</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8daa822bc461cbc39bf0dee22d3dc04861b" title="ADC0 - ADC0 with gain 200x.">HAL_ADC_DIFF_CHANNEL2</a> = 10,
<a name="l00141"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da3f795c276eb227c9a47f98a97f35e83e">00141</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da3f795c276eb227c9a47f98a97f35e83e" title="ADC1 - ADC0 with gain 200x.">HAL_ADC_DIFF_CHANNEL3</a> = 11,
<a name="l00143"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8dac424c9b05cf8daaecc1ecc86837d05be">00143</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8dac424c9b05cf8daaecc1ecc86837d05be" title="ADC2 - ADC2 with gain 10x.">HAL_ADC_DIFF_CHANNEL4</a> = 12,
<a name="l00145"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da357d5708d8a3aed05fdff0e2ffd67f53">00145</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da357d5708d8a3aed05fdff0e2ffd67f53" title="ADC3 - ADC2 with gain 10x.">HAL_ADC_DIFF_CHANNEL5</a> = 13,
<a name="l00147"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da786cc61ebcee260333443baea71fca06">00147</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da786cc61ebcee260333443baea71fca06" title="ADC2 - ADC2 with gain 200x.">HAL_ADC_DIFF_CHANNEL6</a> = 14,
<a name="l00149"></a><a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da5bba16ee1cd49216219e0f19fb6950f7">00149</a>     <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8da5bba16ee1cd49216219e0f19fb6950f7" title="ADC3 - ADC2 with gain 200x.">HAL_ADC_DIFF_CHANNEL7</a> = 15
<a name="l00150"></a>00150   } <a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8d" title="channel number.   Note for avr: If 10x gain is used, 8 bit resolution can be expected.   If 200x gain is used, 7 bit resolution can be expected.   If the user wants to perform a quick polarity check of the result,   it is sufficient to read the MSB of the result. If the bit is one,   the result is negative, and if this bit is zero, the result is positive.   To reach the given accuracy, 10x or 200x Gain should not be used   for operating voltage below 2.7V.">HAL_AdcChannelNumber_t</a>;
<a name="l00151"></a>00151 <span class="preprocessor">#endif</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span>
<a name="l00153"></a>00153 <span class="comment">/******************************************************************************</span>
<a name="l00154"></a>00154 <span class="comment">                   Prototypes section</span>
<a name="l00155"></a>00155 <span class="comment">******************************************************************************/</span>
<a name="l00156"></a>00156 <span class="comment">/**************************************************************************/</span>
<a name="l00188"></a>00188 <span class="keywordtype">int</span> <a class="code" href="adc_8h.html#ae1b9fb0474c93de333572de05defd7ce" title="Opens the ADC to make the measurement on the ADC channel.">HAL_OpenAdc</a>(<a class="code" href="struct_h_a_l___adc_params__t.html" title="adc structure of parameters">HAL_AdcParams_t</a> *param);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 <span class="comment">/**************************************************************************/</span>
<a name="l00217"></a>00217 <span class="keywordtype">int</span> <a class="code" href="adc_8h.html#aa5e786ea41ea75bf425c563dd82aaa13" title="Starts ADC with the parameters defined in HAL_OpenAdc.">HAL_ReadAdc</a>(<a class="code" href="adc_8h.html#a681c03217e4199da57e0eaf95551ae8d" title="channel number.   Note for avr: If 10x gain is used, 8 bit resolution can be expected.   If 200x gain is used, 7 bit resolution can be expected.   If the user wants to perform a quick polarity check of the result,   it is sufficient to read the MSB of the result. If the bit is one,   the result is negative, and if this bit is zero, the result is positive.   To reach the given accuracy, 10x or 200x Gain should not be used   for operating voltage below 2.7V.">HAL_AdcChannelNumber_t</a> channel);
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="comment">/**************************************************************************/</span>
<a name="l00226"></a>00226 <span class="keywordtype">int</span> <a class="code" href="adc_8h.html#a47337f2a69919e0c6847dfff1a7ce99d" title="Closes the ADC.">HAL_CloseAdc</a>(<span class="keywordtype">void</span>);
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="preprocessor">#endif </span><span class="comment">/* _ADC_H */</span>
<a name="l00229"></a>00229 <span class="comment">// eof adc.h</span>
</pre></div></div>
</div>
<img src="footer.png" style="margin-top:20px"/>
</body>
</html>
